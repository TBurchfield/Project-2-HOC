{"version":3,"sources":["PointerLockControls.js"],"names":["THREE","PointerLockControls","camera","scope","rotation","set","pitchObject","Object3D","geometry","SphereGeometry","material","MeshBasicMaterial","color","sphere","Mesh","add","yawObject","position","y","PI_2","Math","PI","onMouseMove","event","enabled","movementX","mozMovementX","webkitMovementX","movementY","mozMovementY","webkitMovementY","x","max","min","dispose","document","removeEventListener","addEventListener","getObject","getDirection","direction","Vector3","Euler","v","copy","applyEuler"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AAIAA,MAAMC,mBAAN,GAA4B,UAAWC,MAAX,EAAoB;;AAE5C,QAAIC,QAAQ,IAAZ;;AAEAD,WAAOE,QAAP,CAAgBC,GAAhB,CAAqB,CAArB,EAAwB,CAAxB,EAA2B,CAA3B;;AAEA,QAAIC,cAAc,IAAIN,MAAMO,QAAV,EAAlB;AACA,QAAIC,WAAW,IAAIR,MAAMS,cAAV,CAA0B,CAA1B,EAA6B,CAA7B,EAAgC,CAAhC,CAAf;AACA,QAAIC,WAAW,IAAIV,MAAMW,iBAAV,CAA6B,EAACC,OAAO,QAAR,EAA7B,CAAf;AACA,QAAIC,SAAS,IAAIb,MAAMc,IAAV,CAAgBN,QAAhB,EAA0BE,QAA1B,CAAb;;AAEAJ,gBAAYS,GAAZ,CAAgBF,MAAhB;AACAP,gBAAYS,GAAZ,CAAgBb,MAAhB;;AAEA,QAAIc,YAAY,IAAIhB,MAAMO,QAAV,EAAhB;AACAS,cAAUC,QAAV,CAAmBC,CAAnB,GAAuB,EAAvB;AACAF,cAAUD,GAAV,CAAeT,WAAf;;AAEAJ,WAAOe,QAAP,CAAgBZ,GAAhB,CAAoB,CAApB,EAAuB,CAAvB,EAA0B,EAA1B;;AAEA,QAAIc,OAAOC,KAAKC,EAAL,GAAU,CAArB;;AAEA,QAAIC,cAAc,SAAdA,WAAc,CAAWC,KAAX,EAAmB;AACjC,YAAKpB,MAAMqB,OAAN,KAAkB,KAAvB,EAA+B;;AAE/B,YAAIC,YAAYF,MAAME,SAAN,IAAmBF,MAAMG,YAAzB,IAAyCH,MAAMI,eAA/C,IAAkE,CAAlF;AACA,YAAIC,YAAYL,MAAMK,SAAN,IAAmBL,MAAMM,YAAzB,IAAyCN,MAAMO,eAA/C,IAAkE,CAAlF;;AAEAd,kBAAUZ,QAAV,CAAmBc,CAAnB,IAAwBO,YAAY,KAApC;AACAnB,oBAAYF,QAAZ,CAAqB2B,CAArB,IAA0BH,YAAY,KAAtC;;AAEAtB,oBAAYF,QAAZ,CAAqB2B,CAArB,GAAyBX,KAAKY,GAAL,CAAU,CAACb,IAAX,EAAiBC,KAAKa,GAAL,CAAUd,IAAV,EAAgBb,YAAYF,QAAZ,CAAqB2B,CAArC,CAAjB,CAAzB;AACH,KAVD;;AAYA,SAAKG,OAAL,GAAe,YAAY;AACvBC,iBAASC,mBAAT,CAA8B,WAA9B,EAA2Cd,WAA3C,EAAwD,KAAxD;AACH,KAFD;;AAIAa,aAASE,gBAAT,CAA2B,WAA3B,EAAwCf,WAAxC,EAAqD,KAArD;AACA,SAAKE,OAAL,GAAe,KAAf;;AAEA,SAAKc,SAAL,GAAiB,YAAY;AACzB,eAAOzB,MAAP;AACH,KAFD;;AAIA,SAAK0B,YAAL,GAAoB,YAAY;AAC5B,YAAIC,YAAY,IAAIxC,MAAMyC,OAAV,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAE,CAA3B,CAAhB;AACA,YAAIrC,WAAW,IAAIJ,MAAM0C,KAAV,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,KAA1B,CAAf;;AAEA,eAAO,UAAWC,CAAX,EAAe;AAClBvC,qBAASC,GAAT,CAAcC,YAAYF,QAAZ,CAAqB2B,CAAnC,EAAsCf,UAAUZ,QAAV,CAAmBc,CAAzD,EAA4D,CAA5D;AACAyB,cAAEC,IAAF,CAAQJ,SAAR,EAAoBK,UAApB,CAAgCzC,QAAhC;AACA,mBAAOuC,CAAP;AACH,SAJD;AAKH,KATmB,EAApB;AAUH,CAvDD","file":"PointerLockControls.77a3b3c7.map","sourceRoot":"..","sourcesContent":["/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nTHREE.PointerLockControls = function ( camera ) {\n\n    var scope = this;\n\n    camera.rotation.set( 0, 0, 0 );\n\n    var pitchObject = new THREE.Object3D();\n    var geometry = new THREE.SphereGeometry( 2, 8, 6 );\n    var material = new THREE.MeshBasicMaterial( {color: 0xff1100} );\n    var sphere = new THREE.Mesh( geometry, material );\n\n    pitchObject.add(sphere)\n    pitchObject.add(camera);\n\n    var yawObject = new THREE.Object3D();\n    yawObject.position.y = 10;\n    yawObject.add( pitchObject );\n\n    camera.position.set(0, 0, 30);\n\n    var PI_2 = Math.PI / 2;\n\n    var onMouseMove = function ( event ) {\n        if ( scope.enabled === false ) return;\n\n        var movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\n        var movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\n\n        yawObject.rotation.y -= movementX * 0.002;\n        pitchObject.rotation.x -= movementY * 0.002;\n\n        pitchObject.rotation.x = Math.max( -PI_2, Math.min( PI_2, pitchObject.rotation.x ) );\n    };\n\n    this.dispose = function () {\n        document.removeEventListener( 'mousemove', onMouseMove, false );\n    };\n    \n    document.addEventListener( 'mousemove', onMouseMove, false );\n    this.enabled = false;\n\n    this.getObject = function () {\n        return sphere;\n    };\n\n    this.getDirection = function () {\n        var direction = new THREE.Vector3( 0, 0, - 1 );\n        var rotation = new THREE.Euler( 0, 0, 0, 'YXZ' );\n\n        return function ( v ) {\n            rotation.set( pitchObject.rotation.x, yawObject.rotation.y, 0 );\n            v.copy( direction ).applyEuler( rotation );\n            return v;\n        };\n    }();\n};\n"]}